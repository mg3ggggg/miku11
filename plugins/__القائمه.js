import fs from 'fs'
import fetch from 'node-fetch'
import { xpRange } from '../lib/levelling.js'
const { levelling } = '../lib/levelling.js'
import PhoneNumber from 'awesome-phonenumber'
import { promises } from 'fs'
import { join } from 'path'
let handler = async (m, { conn, usedPrefix, usedPrefix: _p, __dirname, text, isPrems }) => {
try {
let vn = './media/menu.mp3'
let pp = imagen4
let img = await(await fetch('https://telegra.ph/file/d7ae77d1178f9de50825c.jpg')).buffer()
let d = new Date(new Date + 3600000)
let locale = 'ar'
let week = d.toLocaleDateString(locale, { weekday: 'long' })
let date = d.toLocaleDateString(locale, { day: 'numeric', month: 'long', year: 'numeric' })
let _uptime = process.uptime() * 1000
let uptime = clockString(_uptime)
let user = global.db.data.users[m.sender]
let { money, joincount } = global.db.data.users[m.sender]
let { exp, limit, level, role } = global.db.data.users[m.sender]
let { min, xp, max } = xpRange(level, global.multiplier)
let rtotalreg = Object.values(global.db.data.users).filter(user => user.registered == true).length 
let more = String.fromCharCode(8206)
let readMore = more.repeat(850)   
let taguser = '@' + m.sender.split("@s.whatsapp.net")[0]
let str = `
*â˜¢ï¸Žï¸Žâ˜ ï¸Žï¸ŽðŸ“†ØªØ§Ø±ÙŠØ®:* ${date}
*â˜¢ï¸Žï¸Žâ˜ ï¸Žï¸ŽðŸ•›ÙˆÙ‚Øª Ù†Ø´Ø·:* ${uptime}
*â˜¢ï¸Žï¸Žâ˜ ï¸Žï¸Žâš¡Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†:* ${rtotalreg}
*â˜¢ï¸Žï¸Žâ˜ ï¸Žï¸ŽðŸŽ–ï¸ Ù…Ø³ØªÙˆÙ‰* ${level}
*â˜¢ï¸Žï¸Žâ˜ ï¸Žï¸ŽðŸ§° Ø®Ø¨Ø±Ø© ${exp}*
*â˜¢ï¸Žï¸Žâ˜ ï¸Žï¸Žâš“ Ø§Ù„Ø¯ÙˆØ± ${role}*

*âœï¸Žâ˜¢ï¸Žï¸ŽðŸ’ŽØ§Ù„Ù…Ø§Ø³:* ${limit}
*âœï¸Žâ˜¢ï¸Žï¸ŽðŸ‘¾Ø¹Ù…Ù„Ø§Øª:* ${money}
*âœï¸Žâ˜¢ï¸Žï¸ŽðŸª™Ø§Ù„Ø±Ù…ÙˆØ²:* ${joincount}
*âœï¸Žâ˜¢ï¸Žï¸ŽðŸŽŸï¸Ù…Ù…ÙŠØ²:* ${user.premiumTime > 0 ? 'âœ…' : (isPrems ? 'âœ…' : 'âŒ') || ''}


*âœï¸Žâ˜¢ï¸Žï¸Ž Ø§Ø³Ù€Ù… Ø§Ù„Ù€Ø¨ÙˆØª : Ù…ÙŠÙƒÙˆ*
*âœï¸Žâ˜¢ï¸Žï¸Ž Ø­Ø· Ù‚Ø¨Ù„ ÙƒÙ„ Ø§Ù…Ø±*  (.)
*âœï¸Žâ˜¢ï¸Žï¸Ž Ø§Ø³Ù€Ù€Ù… Ø§Ù„Ù€Ù…Ø·ÙˆØ± masallem*
*âœï¸Žâ˜¢ï¸Žï¸Ž Ø§Ù„Ù€Ù…Ù†Ù€ØµÙ‡  Render*
*âœï¸Žâ˜¢ï¸Žï¸Ž â© ØªÙØ¶Ù„ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© ÙŠØ§*  ${taguser}

_â˜ ï¸Žï¸ŽðŸ”â˜ ï¸Žï¸Žâ”â” â”‚Ø§Ù„Ù€Ø¬Ù€Ø±ÙˆØ¨â”‚â”â”â˜ ï¸Žï¸ŽðŸ”â˜ ï¸Žï¸Ž_

*âœ“ âœï¸Žâ˜« âœ“â”‚Ø¶ÙŠÙâ­*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø·Ø±Ø¯â­*
*âœ“ âœï¸Žâ˜« âœ“â”‚ØªØ±Ù‚ÙŠØ©â­*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø§Ø¹ÙØ§Ø¡â­*
*âœ“ âœï¸Žâ˜« âœ“â”‚ØªØ­Ø°ÙŠØ±â­*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø­Ø°Ù_ØªØ­Ø°ÙŠØ±â­*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø­Ø°Ùâ­*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ù…Ù†Ø´Ù†â­*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ù…Ø®ÙÙŠâ­*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø§Ù„Ù…Ø´Ø±ÙÙŠÙ†â­*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ù„Ù…Ù†Ø´Ù†â­*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø¨Ø±ÙˆÙØ§ÙŠÙ„â­*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø§Ù„Ø¬Ø±ÙˆØ¨â­*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø¯Ø¹ÙˆÙ‡â­*
*âœ“ âœï¸Žâ˜« âœ“â”‚ØªØºÙŠÙŠØ±_Ø§Ù„Ù„ÙŠÙ†Ùƒâ­*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ù„ÙÙ„â­*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø¬Ø±ÙˆØ¨â­*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø§Ù„ØªØ±Ø­ÙŠØ¨â­*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø§Ù„Ù…ØºØ§Ø¯Ø±Ù‡â­*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø§ÙŠØ§Øªâ­*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø¬Ø±ÙˆØ¨ Ù‚ÙÙ„  ÙØªØ­â­*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø®Ø·â­*
*âœ“ âœï¸Žâ˜« âœ“â”‚ØªÙˆØ¨â­*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ù„ÙŠÙ†Ùƒâ­*
*âœ“ âœï¸Žâ˜« âœ“â”‚ÙŠÙˆÙ…ÙŠâ­*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø§Ù„Ù…Ø§Ø³â­*
*âœ“ âœï¸Žâ˜« âœ“â”‚ØªØ±ØªÙŠØ¨_Ø§Ù„Ø¨Ù†Ùƒâ­*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø´Ø±Ø§Ø¡â­*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ù‡Ø¬ÙˆÙ…â­*

_ðŸ‚±â£ï¸âœ“ â”â”â”‚Ù‚Ø³Ù… Ø§Ù„Ø¯ÙŠÙ†ÙŠâ”‚â”â”âœ“â£ï¸ðŸ‚±_

*âœ“ âœï¸Žâ˜« âœ“â”‚Ø³ÙˆØ±Ø©ðŸ“¿*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø­Ø¯ÙŠØ«ðŸ“¿*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ù‚Ø±Ø§Ù†ðŸ“¿*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø§Ù„Ù„Ù‡ðŸ“¿*

_ðŸ‚±ðŸ¤šðŸ»âœ“ â”â”â”‚Ø§Ù„Ù€Ù…Ø·Ù€ÙˆØ± ÙÙ€Ù‚Ø·â”‚â”â”âœ“ðŸ¤šðŸ»ðŸ‚±_

*âœ“ âœï¸Žâ˜« âœ“â”‚Ø¶ÙŠÙ_Ø¨Ø±ÙŠÙ…ÙŠØ§Ù…*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø­Ø°Ù_Ø¨Ø±ÙŠÙ…ÙŠØ§Ù…*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø¨Ø§Ù†*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø§Ù„ØºØ§Ø¡_Ø§Ù„Ø¨Ø§Ù†*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø§Ø·ÙØ§Ø¡*
*âœ“ âœï¸Žâ˜« âœ“â”‚ØªÙØ¹ÙŠÙ„*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø§Ù„Ù…Ø¨Ù†Ø¯ÙŠÙ†*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø¥Ø¹Ø§Ø¯Ø©*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø§Ø¹Ø§Ø¯Ø©ØªØ´ØºÙŠÙ„*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø£Ø¯Ø®Ù„*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø¶ÙŠÙ_Ø§ÙƒØ³_Ø¨ÙŠ*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø¶ÙŠÙ_Ø¬ÙˆØ§Ù‡Ø±*

_âœ“ðŸŽ®âœ˜ â”â”â”‚Ø§Ù„Ù€Ù€Ù€ØªÙ€Ø±ÙÙ€Ù€ÙŠÙ€Ù‡â”‚â”â”âœ˜ðŸŽ®âœ“_


*âœ“ âœï¸Žâ˜« âœ“â”‚Ø§ÙƒØ³ Ø§Ùˆ*
*âœ“ âœï¸Žâ˜« âœ“â”‚ÙƒØª*
*âœ“ âœï¸Žâ˜« âœ“â”‚ØµØ±Ø§Ø­Ù‡*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ù„Ùˆ*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ù‡Ù„*
*âœ“ âœï¸Žâ˜« âœ“â”‚ØªØ±Ø¬Ù…*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø§Ø­Ø²Ø±*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø²ÙˆØ§Ø¬*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø§Ù†Ø·Ù‚*
*âœ“ âœï¸Žâ˜« âœ“â”‚ØªØ§Ø¬*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø­ÙƒÙ…Ù‡*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ù…ÙŠÙ…Ø²*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø³ÙˆØ§Ù„*

_âœ“ðŸ”ƒâœ â”â”â”‚Ø§Ù„Ù€ØªØ­Ù€ÙˆÙŠÙ„â”‚â”â”âœ ðŸ”ƒâœ“_

*âœ“ âœï¸Žâ˜« âœ“â”‚Ù…Ù„ØµÙ‚ðŸ·ï¸*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø³Ø±Ù‚Ø©ðŸ´â€â˜ ï¸*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ù„ÙÙŠØ¯ÙŠÙˆðŸŽ¥*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ù„ØµÙˆØ±Ø©ðŸŒ„*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ù„Ø§Ù†Ù…ÙŠðŸ¥*
*âœ“ âœï¸Žâ˜« âœ“â”‚ØªØ®ÙŠÙ„ðŸ¤”*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ù…ÙƒØ³âš—ï¸*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ù„Ø¬ÙˆØ§Ù‡Ø±ðŸ’Ž*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø³ØªÙƒ*
*âœ“ âœï¸Žâ˜« âœ“â”‚ØªÙ„Ø¬Ø±Ø§Ù*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ù„ÙƒØ±ØªÙˆÙ†ðŸ¤–*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø¨Ø§Ø±ÙƒÙˆØ¯ðŸ§‘â€ðŸ’»*

_âœ“ðŸ”Šââ”â”â”‚Ø§Ù„Ù€ØµÙˆØªÙ€ÙŠØ§Øªâ”‚â”â”âðŸ”Šâœ“_

*âœ“ âœï¸Žâ˜« âœ“â”‚Ø¹Ù…ÙŠÙ‚ðŸ”ŠðŸ”•*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ù…Ù†ÙÙˆØ®ðŸ”ŠðŸ”•*
*âœ“ âœï¸Žâ˜« âœ“â”‚ØªØ®ÙŠÙ†ðŸ”ŠðŸ”•*
*âœ“ âœï¸Žâ˜« âœ“â”‚ØµØ§Ø®Ø¨ðŸ”ŠðŸ”•*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø³Ø±ÙŠØ¹ðŸ”ŠðŸ”•*
*âœ“ âœï¸Žâ˜« âœ“â”‚ØªØ®ÙŠÙ†Ù†ðŸ”ŠðŸ”•*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø±ÙÙŠØ¹ðŸ”ŠðŸ”•*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø±ÙˆØ¨ÙˆØªðŸ”ŠðŸ”•*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø¨Ø·ÙŠØ¡ðŸ”ŠðŸ”•*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ù†Ø§Ø¹Ù…ðŸ”ŠðŸ”•*
*âœ“ âœï¸Žâ˜« âœ“â”‚Ø³Ù†Ø¬Ø§Ø¨ðŸ”ŠðŸ”•*

ðŸ‘‘â”‘â”â”â”MIKU BOTâ”â”â”â”ðŸ‘‘
*â—â‡† Ø±Ù‚Ù€Ù… Ø§Ù„Ù€Ù…Ø·Ù€ÙˆØ±  â†¯*
  https://wa.me/+96899044902
ðŸ‘‘â”™â”â”â”MIKU BOTâ”â”â”â”•ðŸ‘‘
`.trim()
let buttonMessage = {
image: pp,
caption: str.trim(),
mentions: [m.sender],
footer: `${wm}`,
headerType: 4,
contextInfo: {
mentionedJid: [m.sender],
externalAdReply: {
showAdAttribution: true,
mediaType: 'VIDEO',
mediaUrl: null,
title: 'ã€ŽðŸ‘‘â”‡mikuâ”‡ðŸ¤–â”‡Botâ”‡ðŸ‘‘ã€',
body: null,
thumbnail: img,
sourceUrl: `https://telegra.ph/file/d7ae77d1178f9de50825c.jpg`
}}}
conn.sendMessage(m.chat, buttonMessage, { quoted: m })
//await conn.sendFile(m.chat, vn, 'menu.mp3', null, m, true, { type: 'audioMessage', ptt: true})
} catch {
conn.reply(m.chat, '[â—ðˆðð…ðŽâ—] ð™´ð™» ð™¼ð™´ð™½ðš„ ðšƒð™¸ð™´ð™½ð™´ ðš„ð™½ ð™´ðšðšð™¾ðš ðšˆ ð™½ð™¾ ð™µðš„ð™´ ð™¿ð™¾ðš‚ð™¸ð™±ð™»ð™´ ð™´ð™½ðš…ð™¸ð™°ðšð™»ð™¾, ðšð™´ð™¿ð™¾ðšðšƒð™´ð™»ð™¾ ð™°ð™» ð™¿ðšð™¾ð™¿ð™¸ð™´ðšƒð™°ðšð™¸ð™¾ ð™³ð™´ð™» ð™±ð™¾ðšƒ', m)
}}
handler.command = /^(Ø§ÙˆØ§Ù…Ø±|Ø§Ù„Ø§ÙˆØ§Ù…Ø±|Ø§Ù„Ø£ÙˆØ§Ù…Ø±|Ø£ÙˆØ§Ù…Ø±)$/i
handler.exp = 50
handler.fail = null
export default handler
function clockString(ms) {
let h = isNaN(ms) ? '--' : Math.floor(ms / 3600000)
let m = isNaN(ms) ? '--' : Math.floor(ms / 60000) % 60
let s = isNaN(ms) ? '--' : Math.floor(ms / 1000) % 60
return [h, m, s].map(v => v.toString().padStart(2, 0)).join(':')}
